import{s as ae,b as d,a,t as L,d as G,c as Y,e as Ne,f as Se}from"../chunks/disclose-version.BJNx_y7S.js";import{i as ie}from"../chunks/legacy.Db3jXcoH.js";import{p as me,L as N,M as ee,N as ye,G as t,a as ce,O as I,I as z,P as oe,f as w,c as i,r as u,s,t as _,Q as Ee}from"../chunks/utils.CUNAnymL.js";import{i as R}from"../chunks/if.BwXDAm1f.js";import{l as J,g as ue,T as xe,R as K,c as re,a as Me,F as Ie,e as Oe,P as qe,i as Ce,b as ve,C as X,o as Pe,d as fe}from"../chunks/Filters.BQc8nbA_.js";import{C as Ae,s as Te}from"../chunks/Modal.CD_ZXbtV.js";import{m as Ue,F as Re}from"../chunks/FlyingSection.BmJl-jnE.js";import{$ as pe,t as D}from"../chunks/client.CyUcCIOj.js";import{p as Z,o as de,s as Le}from"../chunks/preload-helper.CF3HKszJ.js";import{g as ge}from"../chunks/index.BOtyADB3.js";const $e=[{cycle_index:0,type:"KAMAS",rarety:null,equipment:null,item:null,amount:1},{cycle_index:11,type:"CHEST",rarety:null,equipment:"SPELLS",item:null,amount:1},{cycle_index:12,type:"RUNES",rarety:null,equipment:"SPELLS",item:null,amount:20},{cycle_index:13,type:"COMPANION",rarety:"COMMON",equipment:null,item:"COMPANION",amount:10},{cycle_index:14,type:"EQUIPMENT",rarety:"COMMON",equipment:null,item:"ARMBAND",amount:20},{cycle_index:15,type:"RUNES",rarety:null,equipment:"SPELLS",item:null,amount:20},{cycle_index:16,type:"COMPANION",rarety:"KROSMIC",equipment:null,item:"COMPANION",amount:5},{cycle_index:17,type:"CHEST",rarety:null,equipment:"SPELLS",item:null,amount:1},{cycle_index:18,type:"EQUIPMENT",rarety:"KROSMIC",equipment:null,item:"RING",amount:5},{cycle_index:19,type:"CHEST",rarety:null,equipment:"EQUIPMENTS",item:null,amount:1},{cycle_index:20,type:"GEMS",rarety:null,equipment:null,item:null,amount:100},{cycle_index:21,type:"RUNES",rarety:null,equipment:"COMPANIONS",item:null,amount:20},{cycle_index:22,type:"WAKFU",rarety:null,equipment:null,item:null,amount:2500},{cycle_index:23,type:"KAMAS",rarety:null,equipment:null,item:null,amount:1e3},{cycle_index:24,type:"KAMAS",rarety:null,equipment:null,item:null,amount:2e3},{cycle_index:40,type:"RUNES",rarety:null,equipment:"EQUIPMENTS",item:null,amount:100},{cycle_index:47,type:"COMPANION",rarety:"RARE",equipment:null,item:"COMPANION",amount:10},{cycle_index:48,type:"CHEST",rarety:null,equipment:"COMPANIONS",item:null,amount:1},{cycle_index:50,type:"EQUIPMENT",rarety:"RARE",equipment:null,item:"RING",amount:20},{cycle_index:51,type:"RUNES",rarety:null,equipment:"EQUIPMENTS",item:null,amount:80},{cycle_index:52,type:"CHEST",rarety:null,equipment:"SPELLS",item:null,amount:5},{cycle_index:53,type:"RUNES",rarety:null,equipment:"COMPANIONS",item:null,amount:20},{cycle_index:54,type:"CHEST",rarety:null,equipment:"EQUIPMENTS",item:null,amount:1},{cycle_index:55,type:"CHEST",rarety:null,equipment:"COMPANIONS",item:null,amount:1},{cycle_index:56,type:"CHEST",rarety:null,equipment:"EQUIPMENTS",item:null,amount:1},{cycle_index:57,type:"COMPANION",rarety:"INFINITE",equipment:null,item:"COMPANION",amount:1},{cycle_index:58,type:"KAMAS",rarety:null,equipment:null,item:null,amount:2500},{cycle_index:59,type:"EQUIPMENT",rarety:"KROSMIC",equipment:null,item:"RING",amount:20},{cycle_index:60,type:"KAMAS",rarety:null,equipment:null,item:null,amount:5e3},{cycle_index:61,type:"WAKFU",rarety:null,equipment:null,item:null,amount:2500},{cycle_index:62,type:"CHEST",rarety:null,equipment:"COMPANIONS",item:null,amount:1},{cycle_index:63,type:"WAKFU",rarety:null,equipment:null,item:null,amount:2500},{cycle_index:64,type:"CHEST",rarety:null,equipment:"COMPANIONS",item:null,amount:2},{cycle_index:66,type:"GEMS",rarety:null,equipment:null,item:null,amount:200},{cycle_index:82,type:"EQUIPMENT",rarety:"INFINITE",equipment:null,item:"RING",amount:1},{cycle_index:93,type:"GEMS",rarety:null,equipment:null,item:null,amount:100},{cycle_index:103,type:"GEMS",rarety:null,equipment:null,item:null,amount:100},{cycle_index:107,type:"CHEST",rarety:null,equipment:"COMPANIONS",item:null,amount:5},{cycle_index:130,type:"GEMS",rarety:null,equipment:null,item:null,amount:100},{cycle_index:150,type:"RUNES",rarety:null,equipment:"EQUIPMENTS",item:null,amount:20},{cycle_index:155,type:"GEMS",rarety:null,equipment:null,item:null,amount:100},{cycle_index:182,type:"RUNES",rarety:null,equipment:"COMPANIONS",item:null,amount:80},{cycle_index:183,type:"WAKFU",rarety:null,equipment:null,item:null,amount:2500},{cycle_index:184,type:"CHEST",rarety:null,equipment:"SPELLS",item:null,amount:1},{cycle_index:185,type:"RUNES",rarety:null,equipment:"COMPANIONS",item:null,amount:20},{cycle_index:186,type:"RUNES",rarety:null,equipment:"SPELLS",item:null,amount:20},{cycle_index:187,type:"CHEST",rarety:null,equipment:"EQUIPMENTS",item:null,amount:1},{cycle_index:188,type:"RUNES",rarety:null,equipment:"EQUIPMENTS",item:null,amount:40},{cycle_index:189,type:"KAMAS",rarety:null,equipment:null,item:null,amount:2e3},{cycle_index:190,type:"RUNES",rarety:null,equipment:"COMPANIONS",item:null,amount:20},{cycle_index:191,type:"EQUIPMENT",rarety:"COMMON",equipment:null,item:"RING",amount:9},{cycle_index:192,type:"RUNES",rarety:null,equipment:"COMPANIONS",item:null,amount:100},{cycle_index:193,type:"COMPANION",rarety:"KROSMIC",equipment:null,item:"COMPANION",amount:20},{cycle_index:194,type:"COMPANION",rarety:"INFINITE",equipment:null,item:"COMPANION",amount:5},{cycle_index:195,type:"RUNES",rarety:null,equipment:"SPELLS",item:null,amount:20},{cycle_index:196,type:"KAMAS",rarety:null,equipment:null,item:null,amount:2500},{cycle_index:197,type:"CHEST",rarety:null,equipment:"COMPANIONS",item:null,amount:1},{cycle_index:198,type:"CHEST",rarety:null,equipment:"EQUIPMENTS",item:null,amount:1},{cycle_index:199,type:"RUNES",rarety:null,equipment:"EQUIPMENTS",item:null,amount:20},{cycle_index:200,type:"CHEST",rarety:null,equipment:"SPELLS",item:null,amount:2},{cycle_index:202,type:"KAMAS",rarety:null,equipment:null,item:null,amount:1999},{cycle_index:203,type:"RUNES",rarety:null,equipment:"EQUIPMENTS",item:null,amount:20},{cycle_index:204,type:"CHEST",rarety:null,equipment:"SPELLS",item:null,amount:1},{cycle_index:205,type:"CHEST",rarety:null,equipment:"COMPANIONS",item:null,amount:2},{cycle_index:206,type:"CHEST",rarety:null,equipment:"EQUIPMENTS",item:null,amount:1},{cycle_index:207,type:"RUNES",rarety:null,equipment:"SPELLS",item:null,amount:100},{cycle_index:209,type:"RUNES",rarety:null,equipment:"COMPANIONS",item:null,amount:20},{cycle_index:275,type:"EQUIPMENT",rarety:"INFINITE",equipment:null,item:"RING",amount:28},{cycle_index:279,type:"GEMS",rarety:null,equipment:null,item:null,amount:100},{cycle_index:336,type:"GEMS",rarety:null,equipment:null,item:null,amount:100},{cycle_index:339,type:"COMPANION",rarety:"KROSMIC",equipment:null,item:"COMPANION",amount:20},{cycle_index:340,type:"COMPANION",rarety:"INFINITE",equipment:null,item:"COMPANION",amount:5},{cycle_index:354,type:"EQUIPMENT",rarety:"COMMON",equipment:null,item:"RING",amount:1}];var be=L(" <!>",1),he=L('<div class="header svelte-1od8xrh"><div><!></div> <div> </div></div> <b><!></b>',1);function Qe(g,c){me(c,!1);const P=ae(),S=()=>Y(Ue,"$momentStore",P),O=()=>Y(pe,"$_",P),m=I();let n=Z(c,"reward",8),r=Z(c,"index",8),y=Z(c,"currentIndex",24,()=>-1),E=I("");const $=J.subscribe(q=>{N(E,ue(n(),q.filters))});de(()=>{$()}),ee(()=>(z(r()),z(y())),()=>{N(m,r()===y())}),ee(()=>(z(n()),J),()=>{N(E,ue(n(),ge(J).filters))}),ye(),ie();var k=oe(()=>S()().add(r()-y(),"days").format("dddd DD MMMM YYYY"));xe(g,{get title(){return t(k)},children:(q,W)=>{Ae(q,Le({get classes(){return t(E)},width:"10em",height:"3.5em"},()=>({primary:t(m),outline:t(m)}),{children:(B,te)=>{var e=he(),f=w(e),x=i(f),A=i(x);{var T=l=>{var o=G();_(()=>d(o,S()().add(r()-y(),"days").format("DD MMM"))),a(l,o)};R(A,l=>{y()>0&&l(T)})}u(x);var b=s(x,2),h=i(b,!0);u(b),u(f);var Q=s(f,2),C=i(Q);{var V=l=>{var o=be(),F=w(o);_(()=>d(F,`${n().amount??""}x ${O()(n().type)??""} `));var ne=s(F);{var U=p=>{var M=G();_(()=>d(M,O()(n().rarety))),a(p,M)},v=p=>{var M=Ne(),se=w(M);{var _e=j=>{var le=G();_(()=>d(le,O()(n().equipment))),a(j,le)};R(se,j=>{(n().type===K.RUNES||n().type===K.CHEST)&&j(_e)},!0)}a(p,M)};R(ne,p=>{n().type===K.EQUIPMENT||n().type===K.COMPANION?p(U):p(v,!1)})}a(l,o)},H=l=>{var o=G("-");a(l,o)};R(C,l=>{n()?l(V):l(H,!1)})}u(Q),_(()=>d(h,r())),a(B,e)},$$slots:{default:!0}}))},$$slots:{default:!0}}),ce()}var He=(g,c)=>N(c,!0),Fe=L('<div class="reward"><!></div>'),Ge=L('<div class="body svelte-igihim"><div class="info svelte-igihim"><h2> </h2> <div class="svelte-igihim"> </div></div> <button class="profile"> </button> <!> <section class="svelte-igihim"></section></div>'),Ke=L("<!> <!>",1);function Xe(g,c){me(c,!1);const P=ae(),S=()=>Y(pe,"$_",P),O=()=>Y(re,"$currentProfile",P),m=I([]);let n=I([]),r=I(-1),y=I(-1),E=I(!1);for(const e of $e)Ee(m,t(m)[e.cycle_index]=e);function $(e){return e<0?-1:(Pe(new Date,fe)-e+X)%X}const k=re.subscribe(async e=>{N(n,await Me(e))});de(()=>{k()}),ee(()=>(t(r),t(n),t(m),t(y)),()=>{N(r,ve(t(n),t(m))),N(y,$(t(r)));const e=document.querySelector(`#reward-${t(y)}`);e&&e.scrollIntoView({block:"center",behavior:"smooth"})}),ye(),ie();var q=Ke(),W=w(q);{var B=e=>{qe(e,{onclose:()=>N(E,!1)})};R(W,e=>{t(E)&&e(B)})}var te=s(W,2);Re(te,{children:(e,f)=>{var x=Ge(),A=i(x),T=i(A),b=i(T,!0);_(()=>d(b,S()(D.CALENDAR_TITLE))),u(T);var h=s(T,2),Q=i(h,!0);_(()=>d(Q,S()(D.CALENDAR_INFO))),u(h),u(A);var C=s(A,2);C.__click=[He,E];var V=i(C,!0);_(()=>d(V,O()?`${S()(D.PROFILE)} : ${O()}`:S()(D.PROFILE_DEFAULT))),u(C);var H=s(C,2);Ie(H,{});var l=s(H,2);Oe(l,5,()=>({length:X}),Ce,(F,ne,U)=>{var v=Fe();Te(v,"id",`reward-${U}`);var p=i(v),M=oe(()=>$(t(r)));Qe(p,{get reward(){return t(m)[U]},index:U,get currentIndex(){return t(M)}}),u(v),a(F,v)}),u(l),u(x),a(e,x)},$$slots:{default:!0}}),a(g,q),ce()}Se(["click"]);export{Xe as component};
