import{e as de,s as _e,f as me,a as _,c as C,t as D,b as S,g as P}from"../chunks/disclose-version.20gSIdwX.js";import{i as ue}from"../chunks/legacy.Dm18BoVq.js";import{p as be,f as R,a as fe,j,l as n,a6 as z,c as t,t as x,r as a,s as r}from"../chunks/utils.C1YnwcYC.js";import{o as ge,i as L}from"../chunks/preload-helper.B2mjMfXa.js";import{c as he,q as pe,s as W,e as we,l as K,a as ke,$ as $e,b as ye,d as xe,t as I,f as O,h as Le}from"../chunks/calendar.DoLWxcG-.js";import{g as Q}from"../chunks/entry.Ba3-QoEX.js";import{p as Oe}from"../chunks/stores.BBoYPSCK.js";import{w as Ae,g as Ee}from"../chunks/index.Bk94107-.js";const Me=!0,Ue=Object.freeze(Object.defineProperty({__proto__:null,prerender:Me},Symbol.toStringTag,{value:"Module"})),[U,V]=he({duration:v=>Math.sqrt(v*200),fallback(v){const o=getComputedStyle(v),m=o.transform==="none"?"":o.transform;return{duration:600,easing:pe,css:h=>`
				transform: ${m} scale(${h});
				opacity: ${h}
			`}}}),J=Ae(null);async function Ne(){return W.auth.signOut()}var Ce=()=>Q("/WavenCalendar"),Se=()=>Q("/WavenCalendar/calendar"),je=(v,o)=>o("fr"),Ie=D('<bubble class="svelte-m3w8r2"></bubble>'),We=(v,o)=>o("en"),De=D('<bubble class="svelte-m3w8r2"></bubble>'),Ge=()=>window.location.href="https://github.com/KharamelMM/WavenCalendar",qe=D('<header class="svelte-m3w8r2"><div class="brand svelte-m3w8r2"><h1 class="svelte-m3w8r2"> </h1></div> <div class="navigation svelte-m3w8r2"><button class="with-icon svelte-m3w8r2"><div class="material-icon">edit_calendar</div> <div class="text svelte-m3w8r2"> </div></button> <button class="with-icon svelte-m3w8r2"><div class="material-icon">calendar_month</div> <div class="text svelte-m3w8r2"> </div></button></div> <div class="controls svelte-m3w8r2"><div class="langs svelte-m3w8r2"><button class="svelte-m3w8r2"><div class="lang svelte-m3w8r2">FR</div> <!></button> <button class="svelte-m3w8r2"><div class="lang svelte-m3w8r2">EN</div> <!></button></div> <button class="material-icon svelte-m3w8r2"><!></button> <button class="svelte-m3w8r2">Github</button></div></header> <!>',1);function Ve(v,o){be(o,!1);const m=_e(),h=()=>C(xe,"$isLoading",m),A=()=>C(Le,"$_",m),G=()=>C(Oe,"$page",m),p="bubble_lang";let w=z(!1),i=z("fr");function q(){j(w,!n(w)),n(w)?document.documentElement.classList.add("light"):document.documentElement.classList.remove("light")}function E(c){j(i,c),$e.set(n(i))}ge(()=>{var c;W.auth.getSession().then(({data:d})=>{if(J.set(d.session),d.session){let l=Ee(K).profiles;(Object.keys(l).length===0||Object.keys(l).length===1&&Object.values(l)[0].length===0)&&we().then(u=>{console.log("Exported all profiles from Supabase"),K.update(b=>(b.profiles=u,b)),Ne()})}}),W.auth.onAuthStateChange((d,l)=>{J.set(l)}),window.matchMedia("(prefers-color-scheme: light)").matches&&q(),(c=ke())!=null&&c.startsWith("en")&&j(i,"en"),E(n(i))}),ue();var B=me(),X=R(B);{var Y=c=>{var d=qe(),l=R(d),u=t(l),b=t(u),Z=t(b,!0);x(()=>S(Z,A()(I.HEADLINE))),a(b),a(u);var M=r(u,2),f=t(M);f.__click=[Ce];var F=r(t(f),2),ee=t(F,!0);x(()=>S(ee,A()(I.NAVIGATION_HOME))),a(F),a(f);var k=r(f,2);k.__click=[Se];var T=r(t(k),2),te=t(T,!0);x(()=>S(te,A()(I.NAVIGATION_CALENDAR))),a(T),a(k),a(M);var H=r(M,2),N=t(H),g=t(N);g.__click=[je,E];var ae=r(t(g),2);{var se=e=>{var s=Ie();O(1,s,()=>V,()=>({key:p})),O(2,s,()=>U,()=>({key:p})),_(e,s)};L(ae,e=>{n(i)==="fr"&&e(se)})}a(g);var $=r(g,2);$.__click=[We,E];var re=r(t($),2);{var oe=e=>{var s=De();O(1,s,()=>V,()=>({key:p})),O(2,s,()=>U,()=>({key:p})),_(e,s)};L(re,e=>{n(i)==="en"&&e(oe)})}a($),a(N);var y=r(N,2);y.__click=q;var le=t(y);{var ne=e=>{var s=P("dark_mode");_(e,s)},ie=e=>{var s=P("light_mode");_(e,s)};L(le,e=>{n(w)?e(ne):e(ie,!1)})}a(y);var ce=r(y,2);ce.__click=[Ge],a(H),a(l);var ve=r(l,2);ye(ve,o,"default",{}),x(()=>{f.disabled=G().url.pathname==="/WavenCalendar/",k.disabled=G().url.pathname==="/WavenCalendar/calendar",g.disabled=n(i)==="fr",$.disabled=n(i)==="en"}),_(c,d)};L(X,c=>{h()||c(Y)})}_(v,B),fe()}de(["click"]);export{Ve as component,Ue as universal};
