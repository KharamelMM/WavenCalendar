import{e as re,a as f,t as x,s as ie,c as P,f as $,b as le,g as W}from"../chunks/disclose-version.YqBX7MJI.js";import{i as H}from"../chunks/legacy.BpL08Wjz.js";import{p as K,h as n,f as C,d as T,j as o,a7 as M,z as y,e as i,t as F,g as l}from"../chunks/utils.BBj7zY7F.js";import{i as g}from"../chunks/preload-helper.C4-QGtM_.js";import{c as ce,q as ve,M as ue,r as de,b as fe,s as S,a as me,$ as pe,d as be,e as _e,t as he,f as L,h as ge}from"../chunks/Modal.CQ7T8Op_.js";import{o as ye}from"../chunks/index-client.RX71urKq.js";const xe=!0,ze=Object.freeze(Object.defineProperty({__proto__:null,prerender:xe},Symbol.toStringTag,{value:"Module"})),[G,R]=ce({duration:c=>Math.sqrt(c*200),fallback(c){const r=getComputedStyle(c),e=r.transform==="none"?"":r.transform;return{duration:600,easing:ve,css:m=>`
				transform: ${e} scale(${m});
				opacity: ${m}
			`}}});async function je(c,r){try{const{error:e}=await S.auth.signInWithOtp({email:o(r)});if(e)throw e;alert("Check your email for login link!")}catch(e){e instanceof Error&&alert(e.message)}finally{}}var ke=x('<p>Actuellement, nous avons besoin de votre aide afin recomposer le cycle de récompenses journalière</p> <p>Pour cela, il est nécessaire pour nous que vous vous connectiez afin de partager les informations</p> <div>Votre Email:</div> <input type="email" placeholder="jean.dupont@gmail.com"> <button class="primary">Recevoir un email de connexion</button>',1);function $e(c,r){K(r,!1);let e=M();H(),ue(c,{title:"Magic Link Connexion",children:(m,q)=>{var u=ke(),d=n(C(u),6);de(d);var p=n(d,2);p.__click=[je,e],fe(d,()=>o(e),v=>y(e,v)),f(m,u)},$$slots:{default:!0}}),T()}re(["click"]);var Le=x('<bubble class="svelte-1yx3jp8"></bubble>'),Me=x('<bubble class="svelte-1yx3jp8"></bubble>'),Ee=x('<header class="svelte-1yx3jp8"><div class="brand svelte-1yx3jp8"><h1 class="svelte-1yx3jp8"> </h1></div> <div class="controls svelte-1yx3jp8"><div class="langs svelte-1yx3jp8"><button class="svelte-1yx3jp8"><div class="lang svelte-1yx3jp8">FR</div> <!></button> <button class="svelte-1yx3jp8"><div class="lang svelte-1yx3jp8">EN</div> <!></button></div> <button class="material-icon svelte-1yx3jp8"><!></button> <button class="svelte-1yx3jp8">Github</button></div></header> <section><!></section>',1),we=x("<!> <!>",1);function Be(c,r){K(r,!1);const e=ie(),m=()=>P(_e,"$isLoading",e),q=()=>P(ge,"$_",e),u="bubble_lang";let d=M(),p=M(!1),v=M("fr");function N(){y(p,!o(p)),o(p)?document.documentElement.classList.add("light"):document.documentElement.classList.remove("light")}function E(a){y(v,a),pe.set(o(v))}ye(()=>{var a;S.auth.getSession().then(({data:b})=>{y(d,b.session)}),S.auth.onAuthStateChange((b,_)=>{y(d,_)}),window.matchMedia("(prefers-color-scheme: light)").matches&&N(),(a=me())!=null&&a.startsWith("en")&&E("en")}),H();var O=we(),z=C(O);{var U=a=>{$e(a,{})};g(z,a=>{o(d)||a(U)})}var V=n(z,2);{var J=a=>{var b=Ee(),_=C(b),w=i(_),B=i(w),Q=i(B,!0);F(()=>le(Q,q()(he.HEADLINE))),l(B),l(w);var D=n(w,2),A=i(D),h=i(A),X=n(i(h),2);{var Y=t=>{var s=Le();L(1,s,()=>R,()=>({key:u})),L(2,s,()=>G,()=>({key:u})),f(t,s)};g(X,t=>{o(v)==="fr"&&t(Y)})}l(h);var j=n(h,2),Z=n(i(j),2);{var ee=t=>{var s=Me();L(1,s,()=>R,()=>({key:u})),L(2,s,()=>G,()=>({key:u})),f(t,s)};g(Z,t=>{o(v)==="en"&&t(ee)})}l(j),l(A);var k=n(A,2),te=i(k);{var ae=t=>{var s=W("dark_mode");f(t,s)},se=t=>{var s=W("light_mode");f(t,s)};g(te,t=>{o(p)?t(ae):t(se,!1)})}l(k);var oe=n(k,2);l(D),l(_);var I=n(_,2),ne=i(I);be(ne,r,"default",{}),l(I),F(()=>{h.disabled=o(v)==="fr",j.disabled=o(v)==="en"}),$("click",h,()=>E("fr")),$("click",j,()=>E("en")),$("click",k,N),$("click",oe,()=>window.location.href="https://github.com/KharamelMM/WavenCalendar"),f(a,b)};g(V,a=>{m()||a(J)})}f(c,O),T()}export{Be as component,ze as universal};
