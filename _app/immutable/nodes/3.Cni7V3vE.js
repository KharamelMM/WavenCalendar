import{s as Z,b as _,a as r,t as C,d as Y,c as j,e as ye,f as ce}from"../chunks/disclose-version.CLCQgUk-.js";import{i as ee}from"../chunks/legacy.DvMgMy8j.js";import{p as te,J as S,K as le,L as ne,a as ue,M as O,F as pe,f as F,c as p,r as a,s as N,t as E,D as l,N as oe,O as se}from"../chunks/utils.BTSv_gmg.js";import{i as K}from"../chunks/if.Bxl-Y-li.js";import{l as B,g as z,R as Q,c as X,a as de,F as Ne,e as _e,P as Se,i as Ee,b as xe,C as J,o as Ie,d as Me}from"../chunks/Filters.iS17RKhc.js";import{C as Oe,s as qe}from"../chunks/Modal.CBiSaMZQ.js";import{F as Ce}from"../chunks/FlyingSection.CezfTbyJ.js";import{$ as ae,a as h}from"../chunks/client.Bqq_WX2i.js";import{p as V,o as re,s as Pe}from"../chunks/preload-helper.C9HtXfav.js";import{g as ve}from"../chunks/index.B6Yu7lEF.js";const fe=[{cycle_index:0,type:"KAMAS",rarety:null,equipment:null,item:null,amount:1},{cycle_index:11,type:"CHEST",rarety:null,equipment:"SPELLS",item:null,amount:1},{cycle_index:12,type:"RUNES",rarety:null,equipment:"SPELLS",item:null,amount:20},{cycle_index:13,type:"COMPANION",rarety:"COMMON",equipment:null,item:"COMPANION",amount:10},{cycle_index:14,type:"EQUIPMENT",rarety:"COMMON",equipment:null,item:"ARMBAND",amount:20},{cycle_index:15,type:"RUNES",rarety:null,equipment:"SPELLS",item:null,amount:20},{cycle_index:16,type:"COMPANION",rarety:"KROSMIC",equipment:null,item:"COMPANION",amount:5},{cycle_index:17,type:"CHEST",rarety:null,equipment:"SPELLS",item:null,amount:1},{cycle_index:18,type:"EQUIPMENT",rarety:"KROSMIC",equipment:null,item:"RING",amount:5},{cycle_index:19,type:"CHEST",rarety:null,equipment:"EQUIPMENTS",item:null,amount:1},{cycle_index:20,type:"GEMS",rarety:null,equipment:null,item:null,amount:100},{cycle_index:21,type:"RUNES",rarety:null,equipment:"COMPANIONS",item:null,amount:20},{cycle_index:22,type:"WAKFU",rarety:null,equipment:null,item:null,amount:2500},{cycle_index:23,type:"KAMAS",rarety:null,equipment:null,item:null,amount:1e3},{cycle_index:24,type:"KAMAS",rarety:null,equipment:null,item:null,amount:2e3},{cycle_index:40,type:"RUNES",rarety:null,equipment:"EQUIPMENTS",item:null,amount:100},{cycle_index:47,type:"COMPANION",rarety:"RARE",equipment:null,item:"COMPANION",amount:10},{cycle_index:48,type:"CHEST",rarety:null,equipment:"COMPANIONS",item:null,amount:1},{cycle_index:50,type:"EQUIPMENT",rarety:"RARE",equipment:null,item:"RING",amount:20},{cycle_index:51,type:"RUNES",rarety:null,equipment:"EQUIPMENTS",item:null,amount:80},{cycle_index:52,type:"CHEST",rarety:null,equipment:"SPELLS",item:null,amount:5},{cycle_index:53,type:"RUNES",rarety:null,equipment:"COMPANIONS",item:null,amount:20},{cycle_index:54,type:"CHEST",rarety:null,equipment:"EQUIPMENTS",item:null,amount:1},{cycle_index:55,type:"CHEST",rarety:null,equipment:"COMPANIONS",item:null,amount:1},{cycle_index:56,type:"CHEST",rarety:null,equipment:"EQUIPMENTS",item:null,amount:1},{cycle_index:57,type:"COMPANION",rarety:"INFINITE",equipment:null,item:"COMPANION",amount:1},{cycle_index:58,type:"KAMAS",rarety:null,equipment:null,item:null,amount:2500},{cycle_index:59,type:"EQUIPMENT",rarety:"KROSMIC",equipment:null,item:"RING",amount:20},{cycle_index:60,type:"KAMAS",rarety:null,equipment:null,item:null,amount:5e3},{cycle_index:61,type:"WAKFU",rarety:null,equipment:null,item:null,amount:2500},{cycle_index:62,type:"CHEST",rarety:null,equipment:"COMPANIONS",item:null,amount:1},{cycle_index:63,type:"WAKFU",rarety:null,equipment:null,item:null,amount:2500},{cycle_index:64,type:"CHEST",rarety:null,equipment:"COMPANIONS",item:null,amount:2},{cycle_index:66,type:"GEMS",rarety:null,equipment:null,item:null,amount:200},{cycle_index:82,type:"EQUIPMENT",rarety:"INFINITE",equipment:null,item:"RING",amount:1},{cycle_index:93,type:"GEMS",rarety:null,equipment:null,item:null,amount:100},{cycle_index:103,type:"GEMS",rarety:null,equipment:null,item:null,amount:100},{cycle_index:107,type:"CHEST",rarety:null,equipment:"COMPANIONS",item:null,amount:5},{cycle_index:130,type:"GEMS",rarety:null,equipment:null,item:null,amount:100},{cycle_index:150,type:"RUNES",rarety:null,equipment:"EQUIPMENTS",item:null,amount:20},{cycle_index:155,type:"GEMS",rarety:null,equipment:null,item:null,amount:100},{cycle_index:182,type:"RUNES",rarety:null,equipment:"COMPANIONS",item:null,amount:80},{cycle_index:183,type:"WAKFU",rarety:null,equipment:null,item:null,amount:2500},{cycle_index:184,type:"CHEST",rarety:null,equipment:"SPELLS",item:null,amount:1},{cycle_index:185,type:"RUNES",rarety:null,equipment:"COMPANIONS",item:null,amount:20},{cycle_index:186,type:"RUNES",rarety:null,equipment:"SPELLS",item:null,amount:20},{cycle_index:187,type:"CHEST",rarety:null,equipment:"EQUIPMENTS",item:null,amount:1},{cycle_index:188,type:"RUNES",rarety:null,equipment:"EQUIPMENTS",item:null,amount:40},{cycle_index:189,type:"KAMAS",rarety:null,equipment:null,item:null,amount:2e3},{cycle_index:190,type:"RUNES",rarety:null,equipment:"COMPANIONS",item:null,amount:20},{cycle_index:191,type:"EQUIPMENT",rarety:"COMMON",equipment:null,item:"RING",amount:9},{cycle_index:192,type:"RUNES",rarety:null,equipment:"COMPANIONS",item:null,amount:100},{cycle_index:193,type:"COMPANION",rarety:"KROSMIC",equipment:null,item:"COMPANION",amount:20},{cycle_index:194,type:"COMPANION",rarety:"INFINITE",equipment:null,item:"COMPANION",amount:5},{cycle_index:195,type:"RUNES",rarety:null,equipment:"SPELLS",item:null,amount:20},{cycle_index:196,type:"KAMAS",rarety:null,equipment:null,item:null,amount:2500},{cycle_index:197,type:"CHEST",rarety:null,equipment:"COMPANIONS",item:null,amount:1},{cycle_index:198,type:"CHEST",rarety:null,equipment:"EQUIPMENTS",item:null,amount:1},{cycle_index:199,type:"RUNES",rarety:null,equipment:"EQUIPMENTS",item:null,amount:20},{cycle_index:200,type:"CHEST",rarety:null,equipment:"SPELLS",item:null,amount:2},{cycle_index:202,type:"KAMAS",rarety:null,equipment:null,item:null,amount:1999},{cycle_index:203,type:"RUNES",rarety:null,equipment:"EQUIPMENTS",item:null,amount:20},{cycle_index:204,type:"CHEST",rarety:null,equipment:"SPELLS",item:null,amount:1},{cycle_index:205,type:"CHEST",rarety:null,equipment:"COMPANIONS",item:null,amount:2},{cycle_index:206,type:"CHEST",rarety:null,equipment:"EQUIPMENTS",item:null,amount:1},{cycle_index:207,type:"RUNES",rarety:null,equipment:"SPELLS",item:null,amount:100},{cycle_index:209,type:"RUNES",rarety:null,equipment:"COMPANIONS",item:null,amount:20},{cycle_index:275,type:"EQUIPMENT",rarety:"INFINITE",equipment:null,item:"RING",amount:28},{cycle_index:279,type:"GEMS",rarety:null,equipment:null,item:null,amount:100},{cycle_index:336,type:"GEMS",rarety:null,equipment:null,item:null,amount:100},{cycle_index:339,type:"COMPANION",rarety:"KROSMIC",equipment:null,item:"COMPANION",amount:20},{cycle_index:340,type:"COMPANION",rarety:"INFINITE",equipment:null,item:"COMPANION",amount:5},{cycle_index:354,type:"EQUIPMENT",rarety:"COMMON",equipment:null,item:"RING",amount:1}];var Ae=C(" <!>",1),Te=C('<div class="index svelte-1prf9tk"> </div> <b><!></b>',1);function Ue(P,i){te(i,!1);const v=Z(),m=()=>j(ae,"$_",v);let t=V(i,"reward",8),o=V(i,"index",8),x=V(i,"primary",8,!1),y=O("");const q=B.subscribe(s=>{S(y,z(t(),s.filters))});re(()=>{q()}),le(()=>(pe(t()),B),()=>{S(y,z(t(),ve(B).filters))}),ne(),ee(),Oe(P,Pe({get classes(){return l(y)},width:"10em",height:"3.5em"},()=>({primary:x(),outline:x()}),{children:(s,G)=>{var f=Te(),I=F(f),A=p(I,!0);a(I);var T=N(I,2),w=p(T);{var e=u=>{var c=Ae(),M=F(c);E(()=>_(M,`${t().amount??""}x ${m()(t().type)??""} `));var k=N(M);{var U=n=>{var d=Y();E(()=>_(d,m()(t().rarety))),r(n,d)},W=n=>{var d=ye(),R=F(d);{var L=g=>{var b=Y();E(()=>_(b,m()(t().equipment))),r(g,b)};K(R,g=>{(t().type===Q.RUNES||t().type===Q.CHEST)&&g(L)},!0)}r(n,d)};K(k,n=>{t().type===Q.EQUIPMENT||t().type===Q.COMPANION?n(U):n(W,!1)})}r(u,c)},D=u=>{var c=Y("-");r(u,c)};K(w,u=>{t()?u(e):u(D,!1)})}a(T),E(()=>_(A,o())),r(s,f)},$$slots:{default:!0}})),ue()}var Re=(P,i)=>S(i,!0),Le=C('<div class="reward"><!></div>'),ge=C('<div class="body svelte-igihim"><div class="info svelte-igihim"><h2> </h2> <div class="svelte-igihim"> </div></div> <button class="profile"> </button> <!> <section class="svelte-igihim"></section></div>'),be=C("<!> <!>",1);function Ye(P,i){te(i,!1);const v=Z(),m=()=>j(ae,"$_",v),t=()=>j(X,"$currentProfile",v),o=O([]);let x=O([]),y=O(-1),q=O(-1),s=O(!1);for(const e of fe)oe(o,l(o)[e.cycle_index]=e);function G(e){return e<0?-1:(Ie(new Date,Me)-e+J)%J}const f=X.subscribe(async e=>{S(x,await de(e))});re(()=>{f()}),le(()=>(l(y),l(x),l(o),l(q)),()=>{S(y,xe(l(x),l(o))),S(q,G(l(y)));const e=document.querySelector(`#reward-${l(q)}`);e&&e.scrollIntoView({block:"center",behavior:"smooth"})}),ne(),ee();var I=be(),A=F(I);{var T=e=>{Se(e,{onclose:()=>S(s,!1)})};K(A,e=>{l(s)&&e(T)})}var w=N(A,2);Ce(w,{children:(e,D)=>{var u=ge(),c=p(u),M=p(c),k=p(M,!0);E(()=>_(k,m()(h.CALENDAR_TITLE))),a(M);var U=N(M,2),W=p(U,!0);E(()=>_(W,m()(h.CALENDAR_INFO))),a(U),a(c);var n=N(c,2);n.__click=[Re,s];var d=p(n,!0);E(()=>_(d,t()?`${m()(h.PROFILE)} : ${t()}`:m()(h.PROFILE_DEFAULT))),a(n);var R=N(n,2);Ne(R,{});var L=N(R,2);_e(L,5,()=>({length:J}),Ee,(b,$e,$)=>{var H=Le();qe(H,"id",`reward-${$}`);var ie=p(H),me=se(()=>$===G(l(y)));Ue(ie,{get reward(){return l(o)[$]},index:$,get primary(){return l(me)}}),a(H),r(b,H)}),a(L),a(u),r(e,u)},$$slots:{default:!0}}),r(P,I),ue()}ce(["click"]);export{Ye as component};
